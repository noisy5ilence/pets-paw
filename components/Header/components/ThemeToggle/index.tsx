'use client';

import { FC } from 'react';

import Toggle from '@/components/Toggle';
import { useTheme } from '@/hooks/useTheme';

import classes from './styles.module.css';

type Props = {
  initialTheme: Theme;
};

const ThemeToggle: FC<Props> = ({ initialTheme }) => {
  const [theme, setTheme] = useTheme({ initialTheme });

  return (
    <div className={classes.root}>
      <figure className={classes.indicator}>
        {theme === 'dark' ? (
          <svg
            width="16"
            height="9"
            viewBox="0 0 16 9"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M2.66283 3.11C3.79827 4.3716 5.53146 5.60011 7.99973 5.60011C10.468 5.60011 12.2012 4.3716 13.3367 3.11C13.9047 2.47878 14.3164 1.84576 14.5857 1.37051C14.7201 1.13341 14.8182 0.937055 14.8819 0.801856C14.9138 0.734299 14.937 0.682142 14.9518 0.647952C14.9592 0.630861 14.9645 0.618273 14.9677 0.61051L14.971 0.60253L14.9714 0.601682C14.9713 0.60185 14.9712 0.602038 15.4664 0.800114C15.9616 0.998191 15.9615 0.99842 15.9614 0.998669L15.9612 0.99927L15.9605 1.00084L15.9587 1.00543L15.9525 1.02032C15.9474 1.03274 15.94 1.0501 15.9305 1.07207C15.9115 1.116 15.8836 1.17843 15.8467 1.25671C15.773 1.41317 15.6627 1.63348 15.5138 1.89639C15.2164 2.42114 14.7614 3.12144 14.1295 3.82356C13.9344 4.04031 13.7219 4.25784 13.4913 4.47075L15.3102 6.28966L14.556 7.0439L12.6628 5.15074C11.5878 5.92968 10.2211 6.54206 8.53307 6.64989L8.53308 8.80011L7.46642 8.80012L7.4664 6.64989C5.77837 6.54206 4.4117 5.92969 3.33669 5.15075L1.44354 7.0439L0.689295 6.28966L2.50819 4.47076C2.27763 4.25784 2.06506 4.04031 1.86999 3.82356C1.23808 3.12144 0.783092 2.42113 0.485737 1.89639C0.336759 1.63348 0.226516 1.41317 0.152754 1.2567C0.115852 1.17843 0.0880203 1.116 0.0689819 1.07207C0.059461 1.05009 0.0521336 1.03273 0.0469656 1.02032L0.0408267 1.00543L0.0389625 1.00084L0.0383302 0.999268L0.0380888 0.998666C0.0379889 0.998417 0.0378972 0.998188 0.533085 0.800114C1.02827 0.602041 1.0282 0.601852 1.02813 0.601684L1.02804 0.601448L1.02848 0.602532L1.03177 0.610513C1.035 0.618275 1.0403 0.630863 1.04771 0.647954C1.06252 0.682144 1.08573 0.734301 1.11758 0.801859C1.18132 0.937058 1.27941 1.13341 1.41376 1.37051C1.68307 1.84576 2.09474 2.47878 2.66283 3.11ZM1.02799 0.601335C1.02797 0.601293 1.02799 0.601331 1.02804 0.601448L1.02799 0.601335Z"
              fill="#FF868E"
            />
          </svg>
        ) : (
          <svg
            width="16"
            height="12"
            viewBox="0 0 16 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M1.11701 5.99997C1.11728 6.00055 1.11756 6.00113 1.11783 6.00171C1.18157 6.13691 1.27966 6.33326 1.41401 6.57036C1.68332 7.04561 2.09499 7.67864 2.66308 8.30985C3.79852 9.57145 5.53171 10.8 7.99998 10.8C10.4683 10.8 12.2015 9.57145 13.3369 8.30985C13.905 7.67864 14.3167 7.04561 14.586 6.57036C14.7203 6.33326 14.8184 6.13691 14.8822 6.00171C14.8824 6.00113 14.8827 6.00054 14.883 5.99996C14.8827 5.99939 14.8824 5.99881 14.8822 5.99822C14.8184 5.86303 14.7203 5.66667 14.586 5.42957C14.3167 4.95432 13.905 4.3213 13.3369 3.69008C12.2015 2.42848 10.4683 1.19997 7.99998 1.19997C5.53171 1.19997 3.79852 2.42848 2.66308 3.69008C2.09499 4.3213 1.68332 4.95432 1.41401 5.42957C1.27966 5.66667 1.18157 5.86302 1.11783 5.99822C1.11756 5.9988 1.11728 5.99939 1.11701 5.99997ZM15.4667 5.99997C15.9619 5.80189 15.9618 5.80166 15.9617 5.80141L15.9614 5.80081L15.9608 5.79924L15.9589 5.79465L15.9528 5.77976C15.9476 5.76734 15.9403 5.74998 15.9308 5.72801C15.9117 5.68408 15.8839 5.62165 15.847 5.54338C15.7732 5.38691 15.663 5.1666 15.514 4.90369C15.2167 4.37895 14.7617 3.67864 14.1297 2.97652C12.8652 1.57145 10.865 0.133301 7.99998 0.133301C5.13493 0.133301 3.13479 1.57146 1.87023 2.97652C1.23833 3.67864 0.78334 4.37895 0.485985 4.90369C0.337007 5.1666 0.226765 5.38691 0.153002 5.54338C0.1161 5.62165 0.0882684 5.68408 0.06923 5.72801C0.0597091 5.74999 0.0523817 5.76735 0.0472137 5.77977L0.0410748 5.79465L0.0392106 5.79924L0.0385783 5.80081L0.0383369 5.80141C0.0382369 5.80166 0.0381453 5.80189 0.533333 5.99997L0.0381453 5.80189C-0.0127151 5.92904 -0.0127151 6.07089 0.0381453 6.19804L0.533333 5.99997C0.0381453 6.19804 0.0382369 6.19827 0.0383369 6.19852L0.0385783 6.19912L0.0392106 6.20069L0.0410748 6.20528L0.0472137 6.22017C0.0523817 6.23259 0.0597091 6.24995 0.06923 6.27192C0.0882684 6.31585 0.1161 6.37828 0.153002 6.45656C0.226765 6.61302 0.337007 6.83334 0.485985 7.09624C0.78334 7.62099 1.23833 8.3213 1.87023 9.02341C3.13479 10.4285 5.13493 11.8666 7.99998 11.8666C10.865 11.8666 12.8652 10.4285 14.1297 9.02341C14.7617 8.3213 15.2167 7.62099 15.514 7.09624C15.663 6.83334 15.7732 6.61303 15.847 6.45656C15.8839 6.37828 15.9117 6.31586 15.9308 6.27192C15.9403 6.24995 15.9476 6.23259 15.9528 6.22017L15.9589 6.20528L15.9608 6.20069L15.9614 6.19912L15.9617 6.19852C15.9618 6.19827 15.9619 6.19804 15.4667 5.99997ZM15.4667 5.99997L15.9619 6.19804C16.0127 6.07089 16.0127 5.92904 15.9619 5.80189L15.4667 5.99997ZM5.33333 5.99997C5.33333 4.52721 6.52724 3.3333 8 3.3333C9.47276 3.3333 10.6667 4.52721 10.6667 5.99997C10.6667 7.47273 9.47276 8.66663 8 8.66663C6.52724 8.66663 5.33333 7.47273 5.33333 5.99997ZM8 4.39997C7.11634 4.39997 6.4 5.11631 6.4 5.99997C6.4 6.88362 7.11634 7.59997 8 7.59997C8.88366 7.59997 9.6 6.88362 9.6 5.99997C9.6 5.11631 8.88366 4.39997 8 4.39997Z"
              fill="#FF868E"
            />
          </svg>
        )}
      </figure>
      <Toggle
        title="Theme toggle"
        checked={theme === 'dark'}
        onChange={() => setTheme(theme === 'light' ? 'dark' : 'light')}
      />
    </div>
  );
};

export default ThemeToggle;
